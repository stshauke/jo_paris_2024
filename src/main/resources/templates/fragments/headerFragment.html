<div th:fragment="headerFragment">


    <title>jo paris 2024</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">

    <!-- Icon Fonts -->
    <link rel="stylesheet" href="fonts/icomoon/style.css">
    <link rel="stylesheet" href="fonts/flaticon/font/flaticon.css">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/bootstrap/bootstrap.css">
    <link rel="stylesheet" href="css/jquery-ui.css">
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <link rel="stylesheet" href="css/jquery.fancybox.min.css">
    <link rel="stylesheet" href="css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="css/aos.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
 <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

<div class="site-wrap">

    <div class="site-mobile-menu site-navbar-target">
      <div class="site-mobile-menu-header">
        <div class="site-mobile-menu-close">
          <span class="icon-close2 js-menu-toggle"></span>
        </div>
      </div>
      <div class="site-mobile-menu-body"></div>
    </div>


    <header class="site-navbar py-4" role="banner">

      <div class="container">
        <div class="d-flex align-items-center">
          <div class="site-logo">
            <a href="../">
              <img src="images/logo.png" alt="Logo">
            </a>
          </div>
          <div class="ml-auto">
            <nav class="site-navigation position-relative text-right" role="navigation">
              <ul class="site-menu main-menu js-clone-nav mr-auto d-none d-lg-block">
                <li th:classappend="${activePage == 'home'} ? 'active' : ''">
        <a href="../" th:text="'Accueil'"></a>
    </li>
               <li th:classappend="${activePage == 'stade'} ? 'active' : ''">
        <a href="/stade" th:text="'Stade'"></a>
 
					               <li th:classappend="${activePage == 'Offres' or activePage == 'Billets' or activePage == 'Achat'} ? 'active' : ''" class="nav-item dropdown">
					    <a class="nav-link dropdown-toggle" href="#" id="offreBilletDropdown" role="button" data-toggle="dropdown" aria-haspopup="true">
					        Offres et Billets
					    </a>
					    <div class="dropdown-menu" aria-labelledby="offreBilletDropdown">
					        <a class="dropdown-item" th:classappend="${activePage == 'Offres'} ? 'active' : ''" href="/offre">Offres</a>
					        <a class="dropdown-item" th:classappend="${activePage == 'Billets'} ? 'active' : ''" href="/billet">Billets</a>
					        <a class="dropdown-item" th:classappend="${activePage == 'Achat'} ? 'active' : ''" href="/achat">Acheter Billets</a>
					    </div>
					</li>

   </li>
               
 				<li th:classappend="${activePage == 'visiteur' or activePage == 'billetAchetes'} ? 'active open' : ''" class="nav-item dropdown">
					    <a class="nav-link dropdown-toggle" href="#" id="achatBilletDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" 
					      >
					       Espace Admin
					    </a>
					    <div class="dropdown-menu" aria-labelledby="achatBilletDropdown">
					        <a class="dropdown-item" th:classappend="${activePage == 'visiteur'} ? 'active' : ''" href="/visiteur">Visiteurs</a>
					        <a class="dropdown-item" th:classappend="${activePage == 'billetAchetes'} ? 'active' : ''" href="/billetAchetes">Billets achetés</a>
					        
					    </div>
				</li>





                <li><a href="/connexion" class="nav-link" id="authButton">Se connecter</a></li>
              </ul>
            </nav>

            <a href="#" class="d-inline-block d-lg-none site-menu-toggle js-menu-toggle text-black float-right text-white"><span
                class="icon-menu h3 text-white"></span></a>
          </div>
        </div>
      </div>
<style>
.btn-primary {
    color: #fff;
    background-color: #ee1e46;
    border-color: #ee1e46;
    }
 </style>
    </header>

    <div class="hero overlay" style="background-image: url('images/bg_3.jpg');">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-5 ml-auto">
            <h1 class="text-white">Jeu olympique Paris 2024</h1>
            <p>Les Jeux olympiques de Paris 2024, prévus du 26 juillet au 11 août, marqueront le retour des Jeux d'été en France, 100 ans après leur dernière édition à Paris en 1924.</p>
            <div id="date-countdown"></div>
            <p>
              <a href="../achat" class="btn btn-primary py-3 px-4 mr-3">Acheter un billet en ligne</a>
              <a href="#" class="more light">Plus de détail</a>
            </p>  
          </div>
        </div>
      </div>
    </div>




</div>

   
    <script>
        $(document).ready(function() {
            // Fermer le dropdown après un clic
            $('.dropdown-item').on('click', function() {
                $('.dropdown-menu').removeClass('show');  // Bootstrap 4/5
            });

            // Si l'élément est actif, le dropdown reste ouvert
            if ($('#offreBilletDropdown').hasClass('active')) {
                $('#offreBilletDropdown').dropdown('toggle');
            }
        });
    </script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const authButton = document.getElementById('authButton');
        const emailVisiteur = localStorage.getItem("emailVisiteur");

        // Si l'utilisateur est connecté, afficher "Se déconnecter"
        if (emailVisiteur) {
            authButton.textContent = "Se déconnecter";
            authButton.href = "#"; // Le lien n'est pas utilisé pour la déconnexion

            // Ajout de l'événement pour la déconnexion
            authButton.addEventListener('click', function (e) {
                e.preventDefault();
                localStorage.removeItem("emailVisiteur"); // Supprime l'email du localStorage
                updateButtonState(); // Met à jour l'état du bouton
                window.location.href = "/"; // Rediriger vers la page d'accueil après déconnexion
            });
        } else {
            // Si l'utilisateur n'est pas connecté, afficher "Se connecter"
            authButton.textContent = "Se connecter";
            authButton.href = "/connexion"; // Redirection vers la page de connexion
        }
     // Gestion des classes Bootstrap
        if (authButton.textContent.trim() === "Se déconnecter") {
            authButton.classList.add("btn", "btn-primary"); // Ajoute les classes Bootstrap
        } else {
            authButton.classList.remove("btn", "btn-primary"); // Supprime les classes si ce n'est pas "Se déconnecter"
        }
    });

    // Fonction pour mettre à jour l'état du bouton
    function updateButtonState() {
        const authButton = document.getElementById('authButton');
        const emailVisiteur = localStorage.getItem("emailVisiteur");

        if (!emailVisiteur) {
            authButton.textContent = "Se connecter";
            authButton.href = "/connexion"; // Redirige vers la page de connexion
        }
    }
</script>

    